<feed xmlns="http://www.w3.org/2005/Atom"> <id>/</id><title>one step at a time</title><subtitle>A minimal, responsive and feature-rich Jekyll theme for technical writing.</subtitle> <updated>2024-10-12T18:33:33+08:00</updated> <author> <name>fuqiang wang</name> <uri>/</uri> </author><link rel="self" type="application/atom+xml" href="/feed.xml"/><link rel="alternate" type="text/html" hreflang="en" href="/"/> <generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator> <rights> © 2024 fuqiang wang </rights> <icon>/assets/img/favicons/favicon.ico</icon> <logo>/assets/img/favicons/favicon-96x96.png</logo> <entry><title>qemu hot_upgrade org patch</title><link href="/posts/qemu-hot-upgrade-upstream-org/" rel="alternate" type="text/html" title="qemu hot_upgrade org patch" /><published>2024-10-11T19:27:00+08:00</published> <updated>2024-10-11T19:27:00+08:00</updated> <id>/posts/qemu-hot-upgrade-upstream-org/</id> <content src="/posts/qemu-hot-upgrade-upstream-org/" /> <author> <name>fuqiang</name> </author> <category term="qemu" /> <category term="hot_upgrade" /> <summary>patch link https://patchew.org/QEMU/1658851843-236870-1-git-send-email-steven.sistare@oracle.com/ commit message This version of the live update patch series integrates live update into the live migration framework. The new interfaces are: integrates: 集成，融合 mode (migration parameter) cpr-exec-args (migration parameter) file (migration URI) migrate-mode-enable (command-l...</summary> </entry> <entry><title>qemu hot update my test</title><link href="/posts/hot-upgrade-my-test/" rel="alternate" type="text/html" title="qemu hot update my test" /><published>2024-10-11T19:27:00+08:00</published> <updated>2024-10-11T19:27:00+08:00</updated> <id>/posts/hot-upgrade-my-test/</id> <content src="/posts/hot-upgrade-my-test/" /> <author> <name>fuqiang</name> </author> <category term="qemu" /> <category term="hot_upgrade" /> <summary>cpr-reboot test (upstream已经合入, 直接用上游测试) 测试过程如下: 测试过程 # org process ./qemu-system-x86_64 -machine type=q35 -object memory-backend-memfd,size=2G,id=ram0 -m 2G -monitor stdio ~/qemu-hotupdate&amp;amp;gt; sh run.sh QEMU 8.2.50 monitor - type &amp;#39;help&amp;#39; for more information (qemu) info status VM status: running (qemu) migrate_set_parameter mode cpr-reboot (qemu) migrate_set_capability x-ignore-shared on...</summary> </entry> <entry><title>sys_mincore</title><link href="/posts/mincore/" rel="alternate" type="text/html" title="sys_mincore" /><published>2024-10-11T16:57:00+08:00</published> <updated>2024-10-11T16:57:00+08:00</updated> <id>/posts/mincore/</id> <content src="/posts/mincore/" /> <author> <name>fuqiang</name> </author> <category term="mm" /> <category term="sys_mincore" /> <summary>简介 sys_mincore 是 Linux 内核中实现 mincore 系统调用的函数， 位于内核源码中。它主要用于检查用户态传递的内存地址范围中 哪些页面驻留在物理内存中（即是否被分页到内存中）。 这里我们需要注意 驻留在物理内存和是否建立映射关系是两回事，例如，我们 mmap了一段内存到文件中，该文件在内存中有全部offset的 pagecache, 但是此时进程未访问这些虚拟地址空间，此时, 进程还未建立虚拟地址到物理地址的映射。这种情况下，mincore 也会认为这部分地址所在的page驻留在物理内存中。 原理 mincore的原理很简单，就是去walk_page_range(), 然后, 在 walk_page_range的hook中，去判断，这段空间中的page是否 驻留在内存中。主要区分以下三种类型page: swapcache pag...</summary> </entry> <entry><title>pgcacher</title><link href="/posts/pgcacher/" rel="alternate" type="text/html" title="pgcacher" /><published>2024-10-10T10:10:00+08:00</published> <updated>2024-10-10T10:10:00+08:00</updated> <id>/posts/pgcacher/</id> <content src="/posts/pgcacher/" /> <author> <name>fuqiang</name> </author> <category term="mm" /> <category term="pgcacher" /> <summary>简介 pgcacher可以用来获取当前系统中pagecache相关信息。pgclear打印的信息 格式大致如下: # sudo pgcacher -pid=933 -worker=5 -limit 2 +---------------------------------+----------------+-------------+----------------+-------------+---------+ | Name | Size │ Pages │ Cached Size │ Cached Pages│ Percent │ |---------------------------------+----------------+-------------+------------...</summary> </entry> <entry><title>Keyboard Controller Style (KCS) Interface</title><link href="/posts/kcs/" rel="alternate" type="text/html" title="Keyboard Controller Style (KCS) Interface" /><published>2024-05-06T15:40:00+08:00</published> <updated>2024-05-06T15:40:00+08:00</updated> <id>/posts/kcs/</id> <content src="/posts/kcs/" /> <author> <name>fuqiang</name> </author> <category term="ipmi_spec" /> <summary>abstract This section describes the Keyboard Controller Style (KCS) Interface. The KCS interface is one of the supported BMC to SMS interfaces. The KCS interface is specified solely for SMS messages. SMM messages between the BMC and an SMI Handler will typically require a separate interface, though the KCS interface is designed so that system software can detect if a transaction was interrupte...</summary> </entry> </feed>
